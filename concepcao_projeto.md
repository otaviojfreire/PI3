

**Concepção do Projeto da disciplina de Projeto**
**Integrador III</u>**

Durante a primeira aula da disciplina de Projeto Integrador III do curso de engenharia eletrônica do IFSC, ministrada pelos professores: Daniel Lohmann e Robinson Pizzio, foi apresentada a disciplina pelos docentes e assim foi decidido um prazo para a escolha dos temas de projeto pelos discentes. O professor Robinson havia comentado sobre uma ideia de projeto bastante interessante. A ideia consistia basicamente num controle de tráfego envolvendo semáforos e as filas presentes neles. O professor mencionou termos como: “teoria de filas, tempo de reação de motoristas”. A ideia com toda certeza era muito interessante, mas não foi decidido a escolha daquele tema de maneira imediata. Em um primeiro momento naquele primeiro dia de aula veio algo em mente relacionado com a disciplina que havia cursado no semestre anterior. Mas aquela ideia não iria se encaixar no escopo da disciplina por alguns motivos, tais como: aquela minha aplicação desenvolvida na disciplina de cálculo numérico, ministrada pelo professor Sérgio Ávilla no departamento acadêmico de eletrotécnica, era uma resolução de circuito elétrico por meio de séries de Fourier com o auxilio de uma ferramenta computacional. Foi conversado com os professores da disciplina se a ideia era viável ou não, e chegamos à conclusão que não pois aquele problema envolvia fontes de alimentações não triviais para aplicações reais e resolvia um problema determinado e não genérico, no qual o usuário não decidiria os valores dos elementos passivos do circuitos, os valores e o desenho do circuito em si.

Após a conversa com os professores eu decidi pensar em outra ideia para meu projeto de PI 3. Durante aquela semana conversei com um colega de curso e também colega de disciplina sobre possibilidades de temáticas de projeto. Durante nossa conversa ele me sugeriu a escolha do tema comentado pelo professor Robinson no primeiro dia de aula. A partir dessa conversa com o meu colega de disciplina, foi nesse momento que decidi o tema a ser abordado em CDIO durante o semestre. Na semana seguinte, alguns alunos iriam explicar os temas de seus projetos, neste dia eu falei o tema a ser trabalhado e logo em seguida o professor Robinson sugeriu alguns artigos para a leitura e me enviou as referências por e-mail. Acredito que escolher o tema  é algo difícil, pois muitas vezes não temos muitas ideias em mente.

Com o tema escolhido, era hora de fazer uma leitura em alguns materiais de referência para entender a problemática do tema e assim realizar a primeira etapa de CDIO, na qual é representada pela concepção de projeto. O primeiro artigo lido para me ajudar foi: Traffic_Light_Control_Using_Hierarchical_Reinforcement_Learning_and_Options_Framework. Este artigo foi sugerido pelo professor Robinson e quem me enviou foi um colega de disciplina, o mesmo que me ajudou a definir a escolha de tema. A autoria deste artigo é de brasileiros e na medida que lia artigos relacionados com controle de tráfego envolvendo semáforos, chegava à conclusão de quão complexo era entender e fazer uma aplicação no mesmo nível de aprofundamento encontrado em diversos artigos que me deparei. Necessitou-se algumas trocas de e-mails com o professor Robinson para me ajudar no andamento da minha ideia na disciplina. 

Os encontros estavam sendo basicamente de maneira remota, e então, houve a possibilidade da realização de encontros presenciais no campus do IFSC. Eu participei de uns 2 ou 3 encontros presenciais com o professor Robinson e lá ele me auxiliou com alguns tópicos a serem procurados em artigos, para assim compreender de que maneira os artigos estão abordando essa temática? Quais técnicas eles utilizam para abordar esse problema? Que tipo de algoritmo ou modelo eles estão trabalhando? Quais parâmetros eles levam em consideração para construir um controlador de tráfego? Utilizam que tipo de dados para isso? Algumas perguntas importantes foram levantadas pelo professor e me ajudaram muito no fechamento da concepção de meu projeto. Depois daquele último encontro, eu havia conversado com o professor para abordar um controlador de semáforos envolvendo teoria de filas. Entrei no portal da Capes e fui no repositório de IEEE, para pesquisar artigos envolvendo controle de semáforos e teoria de filas. Vi alguns deles e fui entendo ainda mais o que era feito nesses problemas. Os artigos usavam muitas vezes uma matemática muito complexa, com diversas equações mais difíceis de lidar e entender. E diversos deles utilizavam inteligência artificial. Percebi que alguns artigos usavam um modelo para o controle de semáforo já usado nos anos 50.

O período da disciplina é curto para conseguir entender algo que possivelmente demorou-se anos para ser estudado e implementado com sucesso. Seria inviável em menos de seis meses ser capaz de replicar um estudo tão complexo como este em tão pouco tempo. Para mim foi muito difícil ler os artigos e entender por completo o que realmente era feito lá e também entender os equacionamentos. Com um período de maturação da minha ideia, eu decidi com a base em informações extraídas de diversos artigos, sendo assim irei construir o meu modelo de controle de tráfego em semáforos. A ideia como já foi abordada na apresentação do projeto, é um cruzamento em X, nesse cruzamento apresenta dos semáforos, um para rua A e outro para rua B. Com base em alguns parâmetros levado em consideração para o controle de semáforos, com conceitos de teoria de filas, foi decido criar um modelo para controlar o tráfego da rua A e rua B. Será usado o tamanho da fila, a taxa de espera no semáforo, a taxa de serviço da fila, a taxa de chegada na fila e a taxa de saída da fila para criar um modelo de controle semáforos baseado nesses parâmetros. Independente se esse modelo vai funcionado ou não, será testado e implementado para realizar a verificação da eficácia do mesmo. Essa verificação poderá ser verificada de diversas formas. Primeiro poderá ter um modelo mais simples, apenas o tempo aberto para rua A e fechado para rua B, e assim verificar como aquelas variáveis irão se comportar para este modelo mais simples. Depois será verificado com o meu modelo de controle de tráfego envolvendo parâmetros da teoria de filas, e assim verificar se com este modelo apresentou um resultado melhor que o modelo mais simples. Poderá levar em conta a taxa de saída em cada modelo em um intervalo de tempo, assumindo que os carros, membros da fila apresentam comportamento iguais.

Este projeto está interligado com a disciplina de programação orientada a objetos ministrada pelo professor Hugo Marcondes, já que pretendo desenvolver a aplicação com a linguagem C++, a qual estou apreendendo este semestre e é algo muito viável para a aplicação que pretendo desenvolver. Alguns conceitos visto na disciplina de eletrônica digital poderá ser aproveitado no meu projeto, como os conceitos de máquina de estados finita, a qual representará o funcionamento do semáforo de 2 tempos encontrado no cruzamento de estudo. A própria teoria de filas envolve conceitos de matemática estatística 



A ideia do meu projeto da disciplina de Projeto Integrador III do curso de Engenharia Eletrônica do IFSC, é algo relacionado com um grande problema encontrado em centros urbanos de nosso país e de diversos outros. Se andarmos de carro pela Avenida Beira Mar Norte em Florianópolis, podemos observar claramente o problema a ser modelado nesta disciplina. Supomos a seguinte situação na avenida citada acima, nesta avenida apresenta diversos semáforos para controle de tráfego urbano. Você se depara com uma fila de carros a sua frente e você é o último da fila. O sinal está fechado, quando ele fica verde há um tempo necessário para os motoristas reagirem e seguirem em frente. Esse tempo de reação foi algo demorado e você não conseguiu cruzar à tempo e então tem que aguardar mais um ciclo. Precisamos pensar numa otimização em situações relacionadas com sistemas de semáforos. Quando dizemos melhorar é no sentido de que há dois semáforos em um cruzamento, no semáforo A não apresenta carros na fila e no semáforo B a demanda está grande. Por que o semáforo A está aberto se não há carros na fila? A ideia do projeto é com base na teoria de filas modelar uma situação simulada para otimizar o sistema de semáforo de uma rua A e uma rua B, de acordo com a demanda de carros presentes nestas duas ruas.

A teoria das filas é uma parte da matemática estatística que estuda o comportamento de filas, desde o seu funcionamento até o processo de formação das mesmas 

![queue situation diagram](https://queue-it.com/media/5bhk3gzv/queue-situation-diagram.png)

 

Imagem retirada no website: <https://queue-it.com/blog/queuing-theory/>

 

O modelo representa uma situação que envolve a teoria das filas, ele é composto pela chegada no sistema, representado a entrada na fila, ao entrar no sistema temos a outra parte do modelo representado pela fila. O Server representa o elemento do sistema que buscamos alcançar. Imagine que este modelo representa a fila de carros um sistema de semáforos. O carro está em uma rua A e entra nesse sistema pelo Arrival(input), e então fica no seu lugar da fila formada. O semáforo representa o Server, o objetivo a ser alcançado pelos ocupantes da fila. A população de clientes é a região que engloba o sistema, incluindo a rua, fila de carros e o semáforo. A saída desse sistema é alcançada quando os carros cruzam o sinal verde e passam pelo semáforo atém cruzarem a saída(output).

 ![img](https://miro.medium.com/max/1000/1*6dpXPhWK7U9h4dGxGschxg.gif)

Gif retirado do website: <https://towardsdatascience.com/simulating-traffic-flow-in-python-ee1eab4dd20f>

 



**Teoria de Filas em sistema de semáforo**

 

A teoria de filas é uma área de estudo matemático relacionado com congestionamentos (formação de filas), como por exemplo no que será abordado neste projeto, envolvendo um cruzamento em X e um sistema com semáforo controlando o fluxo de veículos. 

https://upload.wikimedia.org/wikipedia/commons/f/ff/Line-Line_Intersection.png

Link da foto do cruzamento a ser abordado.

Neste cruzamento apresenta uma área central que representa o local onde estaria um semáforo controlando o tráfego local. Esta é uma situação muito recorrente que poderia envolver a teoria de filas, pois na situação relatada em um cruzamento em X onde há uma rua A(x1,y1) com carros em sentido único até o ponto da rua A(x2,y2). Na rua B acontece o mesmo que na rua A, carros em sentido único de B(x3,y3) até B(x4,y4). Agora vamos contextualizar a teoria de filas nesta situação. O ponto central deste cruzamento com coordenadas (x,y) representa o server do diagrama de blocos representando a *queue theory*. O nosso server é o controlador de trânsito, o semáforo.  Em uma fila há uma lei que o primeiro a chegar é o primeiro a sair. Agora vamos imaginar que a rua A será representada como um bloco que apresenta uma entrada(input) e uma saída(output) e o mesmo acontece com a rua B. A rua A e a rua B apresentam um ponto de intersecção, ou seja, apresentam um semáforo para controlar a rua A e um semáforo para controlar a rua B. Nesse cruzamento há sistema de semáforo de dois tempos. O conjunto de semáforos desse cruzamento é o server do modelo encontrado em teoria de filas. A medida que os carros vão entrando no bloco da rua A eles vão formando uma fila de carros no local onde a fila está inserida. Em uma situação como esta há o que chamamos de tempo de espera envolvendo o sistema como um todo. Para entender como isto funciona vamos descrever alguns termos. O cálculo do tempo de espera em uma fila envolve o tamanho da fila e a taxa para os carros serem servidos pelo server em um determinado período. Usando esse conceito de tempo de espera apresentado pela teoria de filas será pensando em um algoritmo que simule uma situação de cruzamento em X com a implementação de semáforos inteligentes. Os semáforos serão inteligentes pelo fato da forma como eles vão trabalhar em conjunto. De acordo com o tamanho da fila de carros e do tempo de espera que está diretamente relacionada com o tamanho da fila, o semáforo vai ficar aberto para a rua que apresentará um maior tempo de espera e um maior tamanho de fila. Se o tamanho de fila de uma rua ser zero, ou seja, o tempo de espera também será zero, consequentemente o semáforo que controlará essa rua deverá ficar fechado até ela apresentar uma demanda significativa de veículos.

Tempo de espera = Tamanho da Fila/ Carros servidos por período